<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>UX Design Directions — personalize-design-app</title>
    <style>
      :root {
        --bg: #0b0d12;
        --fg: #e9eefc;
        --muted: #a8b3d6;
        --muted2: #6d7696;
        --card: rgba(255, 255, 255, 0.06);
        --card2: rgba(255, 255, 255, 0.04);
        --border: rgba(255, 255, 255, 0.10);
        --ring: rgba(255, 255, 255, 0.22);
        --shadow: 0 18px 40px rgba(0, 0, 0, 0.5);
        --accent: #7c3aed; /* merchant-set in admin; default example */
        --accent2: rgba(124, 58, 237, 0.18);
        --danger: #ef4444;
        --success: #22c55e;
        --radius: 14px;
        --radius2: 10px;
        --step: 8px;
        --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
          "Apple Color Emoji", "Segoe UI Emoji";
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: var(--font);
        background: radial-gradient(1200px 800px at 20% 10%, rgba(124, 58, 237, 0.25), transparent 60%),
          radial-gradient(900px 600px at 80% 10%, rgba(34, 197, 94, 0.18), transparent 55%),
          radial-gradient(900px 900px at 50% 100%, rgba(56, 189, 248, 0.12), transparent 60%),
          var(--bg);
        color: var(--fg);
      }

      a {
        color: inherit;
      }

      .wrap {
        display: grid;
        grid-template-columns: 340px 1fr;
        height: 100%;
        gap: 0;
      }

      .sidebar {
        border-right: 1px solid var(--border);
        padding: 18px 18px 14px 18px;
        background: rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(12px);
      }

      .brand {
        display: grid;
        gap: 6px;
        padding: 12px;
        border: 1px solid var(--border);
        background: var(--card);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
      }
      .brand h1 {
        margin: 0;
        font-size: 16px;
        letter-spacing: 0.2px;
      }
      .brand p {
        margin: 0;
        color: var(--muted);
        font-size: 12px;
        line-height: 1.4;
      }

      .controls {
        margin-top: 12px;
        display: grid;
        gap: 10px;
      }

      .control {
        display: grid;
        gap: 6px;
        padding: 12px;
        border: 1px solid var(--border);
        background: var(--card2);
        border-radius: var(--radius);
      }
      .control label {
        font-size: 12px;
        color: var(--muted);
      }
      .control input[type="color"] {
        width: 100%;
        height: 38px;
        background: transparent;
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 6px;
      }

      .nav {
        margin-top: 12px;
        display: grid;
        gap: 8px;
      }
      .nav button {
        text-align: left;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.02);
        color: var(--fg);
        padding: 10px 12px;
        border-radius: 12px;
        cursor: pointer;
        display: grid;
        gap: 4px;
      }
      .nav button:hover {
        border-color: var(--ring);
        background: rgba(255, 255, 255, 0.04);
      }
      .nav button[aria-current="true"] {
        border-color: rgba(124, 58, 237, 0.6);
        background: var(--accent2);
        box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.16);
      }
      .nav .title {
        font-size: 13px;
        font-weight: 650;
        letter-spacing: 0.2px;
      }
      .nav .meta {
        font-size: 12px;
        color: var(--muted);
        line-height: 1.35;
      }

      .main {
        padding: 18px 18px 22px 18px;
        overflow: auto;
      }

      .header {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 14px;
      }
      .header h2 {
        margin: 0;
        font-size: 18px;
        letter-spacing: 0.2px;
      }
      .header .hint {
        color: var(--muted);
        font-size: 12px;
      }

      .grid {
        display: grid;
        grid-template-columns: 1.35fr 0.85fr;
        gap: 14px;
        align-items: start;
      }

      .panel {
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.04);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        overflow: hidden;
      }

      .panel .panel-h {
        padding: 10px 12px;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        background: rgba(0, 0, 0, 0.15);
      }
      .panel .panel-h .k {
        font-size: 12px;
        color: var(--muted);
        letter-spacing: 0.2px;
      }
      .chip {
        font-size: 11px;
        padding: 4px 8px;
        border: 1px solid var(--border);
        border-radius: 999px;
        color: var(--muted);
        background: rgba(255, 255, 255, 0.02);
      }
      .chip.accent {
        border-color: rgba(124, 58, 237, 0.6);
        color: #efe7ff;
        background: rgba(124, 58, 237, 0.18);
      }

      .panel .panel-b {
        padding: 12px;
      }

      .desc {
        margin: 0 0 10px 0;
        font-size: 13px;
        line-height: 1.5;
        color: var(--muted);
      }

      .two {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }

      .mock {
        border: 1px solid var(--border);
        border-radius: var(--radius);
        background: rgba(255, 255, 255, 0.02);
        overflow: hidden;
      }

      .mock .mh {
        padding: 8px 10px;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        background: rgba(0, 0, 0, 0.12);
      }
      .mock .mh strong {
        font-size: 12px;
        letter-spacing: 0.15px;
      }
      .mock .mh span {
        font-size: 12px;
        color: var(--muted2);
      }

      /* Storefront primitives */
      .sf {
        padding: 12px;
      }
      .sf .row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }
      .sf .title {
        font-weight: 700;
        letter-spacing: 0.1px;
        font-size: 14px;
      }
      .sf .sub {
        color: var(--muted);
        font-size: 12px;
        margin-top: 2px;
      }
      .sf .steps {
        display: flex;
        gap: 8px;
        margin-top: 10px;
      }
      .sf .dot {
        width: 10px;
        height: 10px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.02);
      }
      .sf .dot.on {
        border-color: rgba(124, 58, 237, 0.7);
        background: var(--accent);
      }

      .sf .hero {
        margin-top: 12px;
        border: 1px solid var(--border);
        border-radius: calc(var(--radius) + 2px);
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.01));
        overflow: hidden;
      }
      .sf .hero .img {
        height: 170px;
        background: radial-gradient(700px 220px at 50% 10%, rgba(124, 58, 237, 0.35), transparent 50%),
          radial-gradient(700px 220px at 50% 80%, rgba(34, 197, 94, 0.18), transparent 55%),
          linear-gradient(120deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
        position: relative;
      }
      .sf .hero .badge {
        position: absolute;
        top: 10px;
        left: 10px;
        font-size: 11px;
        padding: 5px 9px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        background: rgba(0, 0, 0, 0.22);
        color: rgba(233, 238, 252, 0.9);
        backdrop-filter: blur(8px);
      }
      .sf .hero .result {
        position: absolute;
        bottom: 12px;
        left: 12px;
        right: 12px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        border-radius: 12px;
        background: rgba(0, 0, 0, 0.20);
        padding: 10px 10px;
        display: grid;
        gap: 6px;
      }
      .sf .hero .result .r1 {
        display: flex;
        justify-content: space-between;
        gap: 8px;
        align-items: center;
      }
      .sf .hero .result .r1 strong {
        font-size: 12px;
        letter-spacing: 0.2px;
      }
      .sf .hero .result .r1 em {
        font-style: normal;
        font-size: 11px;
        color: rgba(233, 238, 252, 0.86);
        background: rgba(124, 58, 237, 0.18);
        border: 1px solid rgba(124, 58, 237, 0.45);
        padding: 3px 8px;
        border-radius: 999px;
      }
      .sf .hero .result .r2 {
        font-size: 12px;
        color: rgba(233, 238, 252, 0.8);
      }

      .sf .cta {
        margin-top: 12px;
        display: grid;
        gap: 8px;
      }
      .btn {
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.03);
        color: var(--fg);
        padding: 10px 12px;
        border-radius: 12px;
        font-weight: 650;
        letter-spacing: 0.1px;
        cursor: pointer;
      }
      .btn.primary {
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02)),
          radial-gradient(600px 120px at 50% 0%, rgba(255, 255, 255, 0.07), transparent 55%),
          var(--accent);
        border-color: rgba(255, 255, 255, 0.18);
        color: #0b0d12;
      }
      .btn.ghost {
        color: rgba(233, 238, 252, 0.92);
      }
      .note {
        font-size: 12px;
        color: var(--muted);
        line-height: 1.4;
      }

      .mobileShell {
        width: 295px;
        max-width: 100%;
        margin: 0 auto;
        border-radius: 30px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(0, 0, 0, 0.26);
        padding: 12px;
      }
      .mobileShell .topbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }
      .mobileShell .topbar span {
        font-size: 11px;
        color: var(--muted2);
      }
      .mobileShell .topbar strong {
        font-size: 12px;
        letter-spacing: 0.2px;
      }
      .mobileShell .sticky {
        margin-top: 10px;
        border-top: 1px solid rgba(255, 255, 255, 0.10);
        padding-top: 10px;
        display: grid;
        gap: 8px;
      }

      .kvs {
        display: grid;
        gap: 8px;
      }
      .kv {
        display: grid;
        gap: 2px;
        padding: 10px 12px;
        border: 1px solid var(--border);
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.02);
      }
      .kv strong {
        font-size: 12px;
        letter-spacing: 0.2px;
      }
      .kv span {
        font-size: 12px;
        color: var(--muted);
        line-height: 1.35;
      }

      /* Direction variants */
      [data-dir="d1"] .sf .hero .badge {
        border-color: rgba(255, 255, 255, 0.18);
      }
      [data-dir="d2"] .sf .hero {
        background: rgba(255, 255, 255, 0.02);
      }
      [data-dir="d2"] .sf .hero .img {
        background: linear-gradient(120deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.01));
      }
      [data-dir="d3"] {
        --card: rgba(255, 255, 255, 0.08);
        --border: rgba(255, 255, 255, 0.14);
      }
      [data-dir="d3"] .btn.primary {
        color: #0b0d12;
      }
      [data-dir="d4"] .sf .steps {
        gap: 6px;
      }
      [data-dir="d4"] .sf .dot {
        width: 26px;
        height: 6px;
        border-radius: 999px;
      }
      [data-dir="d5"] {
        --bg: #06070a;
      }
      [data-dir="d5"] .sf .hero .img {
        background: radial-gradient(900px 260px at 40% 25%, rgba(124, 58, 237, 0.42), transparent 55%),
          radial-gradient(900px 260px at 70% 80%, rgba(59, 130, 246, 0.22), transparent 55%),
          linear-gradient(120deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
      }
      [data-dir="d6"] .sf .hero .result em {
        background: rgba(255, 255, 255, 0.10);
        border-color: rgba(255, 255, 255, 0.18);
        color: rgba(233, 238, 252, 0.86);
      }
      [data-dir="d7"] .sf .hero .result {
        background: rgba(0, 0, 0, 0.32);
      }
      [data-dir="d7"] .btn.primary {
        background: var(--accent);
      }
      [data-dir="d8"] .sf .hero .img {
        height: 190px;
      }
      [data-dir="d8"] .sf .cta {
        grid-template-columns: 1fr 1fr;
      }
      [data-dir="d8"] .btn {
        text-align: center;
      }

      @media (max-width: 980px) {
        .wrap {
          grid-template-columns: 1fr;
        }
        .sidebar {
          border-right: 0;
          border-bottom: 1px solid var(--border);
        }
        .grid {
          grid-template-columns: 1fr;
        }
        .two {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <aside class="sidebar">
        <div class="brand">
          <h1>Design Directions</h1>
          <p>
            8 storefront directions for the buyer stepper (desktop embedded block + mobile full-screen). Accent color simulates
            merchant branding set in admin.
          </p>
        </div>

        <div class="controls">
          <div class="control">
            <label for="accent">Merchant Accent (storefront)</label>
            <input id="accent" type="color" value="#7c3aed" />
          </div>
        </div>

        <div class="nav" id="nav"></div>
      </aside>

      <main class="main" id="main">
        <div class="header">
          <div>
            <h2 id="h2">Direction 1</h2>
            <div class="hint" id="hint">Result-first, premium minimal.</div>
          </div>
          <div class="chip accent" id="chip">Merchant accent</div>
        </div>

        <div class="grid">
          <section class="panel" id="previewPanel">
            <div class="panel-h">
              <div class="k">Storefront UX Mock</div>
              <div style="display: flex; gap: 8px; align-items: center">
                <span class="chip">Desktop (in block)</span>
                <span class="chip">Mobile (full-screen)</span>
              </div>
            </div>
            <div class="panel-b">
              <p class="desc" id="desc"></p>

              <div class="two">
                <div class="mock">
                  <div class="mh">
                    <strong>Desktop — Product Page Block</strong>
                    <span>embedded, no modal</span>
                  </div>
                  <div class="sf" id="desktopMock"></div>
                </div>

                <div class="mock">
                  <div class="mh">
                    <strong>Mobile — Full Screen Stepper</strong>
                    <span>mobile-first</span>
                  </div>
                  <div class="sf">
                    <div class="mobileShell" id="mobileMock"></div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <aside class="panel">
            <div class="panel-h">
              <div class="k">What This Direction Optimizes</div>
              <span class="chip">confidence • trust • satisfaction</span>
            </div>
            <div class="panel-b">
              <div class="kvs" id="kvs"></div>
              <p class="note" style="margin-top: 10px">
                Use this to pick a base direction and then we’ll tune details (progress states, retry, limits messaging, and preview
                hierarchy) to hit the “clean, artist-made” quality bar.
              </p>
            </div>
          </aside>
        </div>
      </main>
    </div>

    <script>
      const directions = [
        {
          id: "d1",
          name: "Direction 1 — Result-First Minimal",
          hint: "One hero preview, calm UI chrome, single primary CTA.",
          desc: "The preview is the hero. Controls are compact and secondary. Best for maximizing confidence and purchase momentum.",
          bullets: [
            ["Hierarchy", "Preview dominates; actions sit below."],
            ["Stepper", "Dots + step title; minimal distractions."],
            ["Motion", "Very restrained (optional)."],
            ["Best for", "Fast, premium, trust-building."],
          ],
          stepStyle: "dots",
          ctaLayout: "stack",
        },
        {
          id: "d2",
          name: "Direction 2 — Editorial Calm",
          hint: "More whitespace, softer surfaces, quieter accents.",
          desc: "Feels like a premium product page extension. Strong for trust, slightly less bold than D1.",
          bullets: [
            ["Hierarchy", "More text guidance; still preview-first."],
            ["Stepper", "Subtle progress, low visual noise."],
            ["Tone", "Calm, composed, high trust."],
            ["Best for", "Gift-store mental model."],
          ],
          stepStyle: "dots",
          ctaLayout: "stack",
        },
        {
          id: "d3",
          name: "Direction 3 — Bold Contrast",
          hint: "Higher contrast borders, punchy accents, sharper clarity.",
          desc: "More energetic and bold/modern. Strong for confidence; must avoid feeling too 'tool-like'.",
          bullets: [
            ["Hierarchy", "Clear sections, crisp boundaries."],
            ["Stepper", "Visible progress with higher contrast."],
            ["Tone", "Bold/modern, energetic."],
            ["Best for", "Direct, high-clarity buyers."],
          ],
          stepStyle: "dots",
          ctaLayout: "stack",
        },
        {
          id: "d4",
          name: "Direction 4 — Progress Bar Stepper",
          hint: "Progress as bars; feels more 'flow' than 'widget'.",
          desc: "Makes progress more legible (trust), with a flow-forward feeling. Great for mobile-first stepper patterns.",
          bullets: [
            ["Hierarchy", "Same result-first, stronger flow cues."],
            ["Stepper", "Bars (not dots) for legibility."],
            ["Tone", "Confident, guided."],
            ["Best for", "Reducing confusion in steps."],
          ],
          stepStyle: "bars",
          ctaLayout: "stack",
        },
        {
          id: "d5",
          name: "Direction 5 — Hero Gradient Premium",
          hint: "More cinematic hero; strongest 'wow' on result.",
          desc: "Maximizes perceived quality and desire. Needs careful restraint so it doesn’t feel slow or gimmicky.",
          bullets: [
            ["Hierarchy", "Hero is cinematic; UI fades back."],
            ["Perception", "Higher 'premium' feel."],
            ["Risk", "Over-stylization if not restrained."],
            ["Best for", "Max desire / artist-made vibe."],
          ],
          stepStyle: "dots",
          ctaLayout: "stack",
        },
        {
          id: "d6",
          name: "Direction 6 — Neutral Accent Minimal",
          hint: "Accent used sparingly; result carries the brand.",
          desc: "Great when merchants choose loud accents; keeps UI stable and avoids clashing with product imagery.",
          bullets: [
            ["Accent", "Used mostly on primary CTA + active step."],
            ["Tone", "Trustworthy, understated."],
            ["Works with", "Any merchant accent color."],
            ["Best for", "Consistency across merchants."],
          ],
          stepStyle: "dots",
          ctaLayout: "stack",
        },
        {
          id: "d7",
          name: "Direction 7 — Utility Clear",
          hint: "A touch more 'tool' clarity; strong feedback & states.",
          desc: "Optimized for determinism: clear labels, strong states, and predictable retries. Use if confusion is a top risk.",
          bullets: [
            ["Clarity", "More explicit labels + helper text."],
            ["States", "Strong loading/retry affordances."],
            ["Tone", "Confident, slightly utilitarian."],
            ["Best for", "Hard reliability messaging."],
          ],
          stepStyle: "dots",
          ctaLayout: "stack",
        },
        {
          id: "d8",
          name: "Direction 8 — Dual-CTA Actions",
          hint: "Primary + secondary CTAs side-by-side (desktop).",
          desc: "For flows where 'Try again' and 'Add to cart' are both prominent after generation. Strong for agency; must avoid indecision.",
          bullets: [
            ["CTA", "Side-by-side (desktop) after result."],
            ["Tone", "Agency and control."],
            ["Risk", "Choice overload if used too early."],
            ["Best for", "Post-result actions."],
          ],
          stepStyle: "dots",
          ctaLayout: "split",
        },
      ];

      const nav = document.getElementById("nav");
      const h2 = document.getElementById("h2");
      const hint = document.getElementById("hint");
      const desc = document.getElementById("desc");
      const kvs = document.getElementById("kvs");
      const desktopMock = document.getElementById("desktopMock");
      const mobileMock = document.getElementById("mobileMock");

      function setAccent(hex) {
        document.documentElement.style.setProperty("--accent", hex);
        document.documentElement.style.setProperty("--accent2", hexToRgba(hex, 0.18));
      }

      function hexToRgba(hex, alpha) {
        const v = hex.replace("#", "");
        const r = parseInt(v.slice(0, 2), 16);
        const g = parseInt(v.slice(2, 4), 16);
        const b = parseInt(v.slice(4, 6), 16);
        return `rgba(${r}, ${g}, ${b}, ${alpha})`;
      }

      function renderSteps(style) {
        if (style === "bars") {
          return `
            <div class="steps" aria-label="Progress">
              <div class="dot on"></div>
              <div class="dot"></div>
              <div class="dot"></div>
            </div>
          `;
        }
        return `
          <div class="steps" aria-label="Progress">
            <div class="dot on"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
        `;
      }

      function renderDesktop(ctaLayout, stepStyle) {
        const ctas =
          ctaLayout === "split"
            ? `
              <div class="cta" style="grid-template-columns: 1fr 1fr">
                <button class="btn ghost" type="button">Try again</button>
                <button class="btn primary" type="button">Add to cart</button>
              </div>
              <div class="note">5 tries per product • resets in ~30 min</div>
            `
            : `
              <div class="cta">
                <button class="btn primary" type="button">Generate preview</button>
                <button class="btn ghost" type="button">Try again</button>
              </div>
              <div class="note">5 tries per product • resets in ~30 min</div>
            `;

        return `
          <div class="row">
            <div>
              <div class="title">Personalize your mug</div>
              <div class="sub">Upload a photo. Get an artist-made look.</div>
            </div>
            <span class="chip accent">Merchant accent</span>
          </div>
          ${renderSteps(stepStyle)}
          <div class="hero" role="img" aria-label="Preview">
            <div class="img">
              <div class="badge">Preview</div>
              <div class="result">
                <div class="r1">
                  <strong>Clean, premium result</strong>
                  <em>Ready</em>
                </div>
                <div class="r2">“I want this mug.”</div>
              </div>
            </div>
          </div>
          ${ctas}
        `;
      }

      function renderMobile(ctaLayout, stepStyle) {
        const ctas =
          ctaLayout === "split"
            ? `
              <div class="sticky">
                <button class="btn ghost" type="button">Try again</button>
                <button class="btn primary" type="button">Add to cart</button>
                <div class="note">5 tries per product • resets in ~30 min</div>
              </div>
            `
            : `
              <div class="sticky">
                <button class="btn primary" type="button">Generate preview</button>
                <button class="btn ghost" type="button">Try again</button>
                <div class="note">5 tries per product • resets in ~30 min</div>
              </div>
            `;

        return `
          <div class="topbar">
            <span>Back</span>
            <strong>Personalize</strong>
            <span>Close</span>
          </div>
          <div style="padding: 2px 4px 0 4px">
            <div class="title" style="font-size: 13px">Upload → Generate → Preview</div>
            <div class="sub">Fast, premium, trustworthy.</div>
            ${renderSteps(stepStyle)}
          </div>
          <div class="hero" style="margin-top: 10px">
            <div class="img">
              <div class="badge">Full-screen preview</div>
              <div class="result">
                <div class="r1">
                  <strong>Looks artist-made</strong>
                  <em>Ready</em>
                </div>
                <div class="r2">Confidence → desire.</div>
              </div>
            </div>
          </div>
          ${ctas}
        `;
      }

      function setDirection(dirId) {
        const dir = directions.find((d) => d.id === dirId) || directions[0];
        h2.textContent = dir.name;
        hint.textContent = dir.hint;
        desc.textContent = dir.desc;

        kvs.innerHTML = "";
        for (const [k, v] of dir.bullets) {
          const el = document.createElement("div");
          el.className = "kv";
          el.innerHTML = `<strong>${k}</strong><span>${v}</span>`;
          kvs.appendChild(el);
        }

        desktopMock.innerHTML = renderDesktop(dir.ctaLayout, dir.stepStyle);
        mobileMock.innerHTML = renderMobile(dir.ctaLayout, dir.stepStyle);

        document.body.setAttribute("data-dir", dir.id);

        for (const b of nav.querySelectorAll("button")) b.setAttribute("aria-current", "false");
        const active = nav.querySelector(`button[data-id="${dir.id}"]`);
        if (active) active.setAttribute("aria-current", "true");
      }

      function initNav() {
        for (const d of directions) {
          const b = document.createElement("button");
          b.type = "button";
          b.dataset.id = d.id;
          b.innerHTML = `<div class="title">${d.name}</div><div class="meta">${d.hint}</div>`;
          b.addEventListener("click", () => setDirection(d.id));
          nav.appendChild(b);
        }
      }

      initNav();
      setAccent(document.getElementById("accent").value);
      document.getElementById("accent").addEventListener("input", (e) => setAccent(e.target.value));
      setDirection("d1");
    </script>
  </body>
</html>
